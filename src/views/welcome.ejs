<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Directory Index | Welcome</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <script>
    async function pasteFromClipboard() {
      try {
        const text = await navigator.clipboard.readText();
        document.getElementById('keyword').value = text;
        document.getElementById('keyword').focus()
      } catch (err) {
        console.error('Failed to read clipboard contents: ', err);
      }
    }

    function clearInput() {
      document.getElementById('keyword').value = '';
      document.getElementById('keyword').focus()
    }

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        event.preventDefault(); // Prevent the default form submission
        document.getElementById('submit').click(); // Trigger the submit button
      }
    }
  </script>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body class="bg-gray-100">
  <div class="max-w-lg mx-auto p-6 bg-white rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold text-center text-gray-800">
      Welcome to Our Directory Search App
    </h1>

    <p class="text-center text-gray-600 mt-2">
      Use the search box below to find keys in our database. 
      For advanced search options, click on the advanced search link. 
      You can also view all directories by visiting the directory page.
    </p>

    <form action="/content" method="GET" class="mt-2">
      <div class="flex flex-col">
        <div class="flex flex-between">
          <button type="button" onclick="pasteFromClipboard()" class="mr-2 bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-700" title="Paste">
            <i class="fas fa-paste w-4"></i>
          </button>

          <button type="button" onclick="clearInput()" class="mr-2 bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-700" title="Clear">
            <i class="fas fa-times w-4"></i>
          </button>
  
          <input type="text" name="keyword" id="keyword" placeholder="Enter keyword" onkeypress="handleKeyPress(event)" class="border p-2 rounded focus:outline-none focus:border-blue-500 w-screen" autofocus required>
        </div>

        <button type="submit" id="submit" class="bg-blue-500 text-white p-2 rounded mt-4 hover:bg-blue-600">Search</button>
      </div>
    </form>

    <div>
      <div class="mt-2 text-center">
        <a href="/advanced-search" class="text-blue-500 hover:underline">
          Advanced Search</a>
      </div>
      <div class="mt-2 text-center">
        <a href="/directory" class="text-blue-500 hover:underline">
          View All Directories</a>
      </div>
    </div>

    <footer class="text-center mt-2">
      <p class="mt-2 text-center text-gray-700 text-sm">
        This application is powered by Microsoft <a href="https://www.microsoft.com" class="text-blue-500 hover:underline">Copilot</a>, <br />an AI companion created by Microsoft.
      </p>
    </footer>
  </div>
</body>
</html>
